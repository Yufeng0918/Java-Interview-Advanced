# 服务网关

## 1. 技术选型

### 网关的核心功能

+ 动态路由：新开发某个服务，动态把请求路径和服务的映射关系热加载到网关里去；服务增减机器，网关自动热感知
+ 灰度发布
+ 授权认证
+ 性能监控：每个API接口的耗时、成功率、QPS
+ 系统日志
+ 数据缓存
+ 限流熔断



### 现有技术

#### Kong

依托于Nginx实现，OpenResty，lua实现的模块，现成的一些插件，可以直接使用



#### Zuul

Spring Cloud微服务技术架构，基于Java开发，核心网关功能都比较简单，但是比如灰度发布、限流、动态路由之类的，很多都要自己做二次开发, 高并发能力不强，部署到一些机器上去，还要基于Tomcat来部署



#### Nginx+Lua

基于lua自己写类似Kong的网关, Nginx抗高并发的能力很强，少数几台机器部署一下，就可以抗很高的并发，精通Nginx源码，很难，c语言，很难说从Nginx内核层面去做一些二次开发和源码定制



#### 自研网关

自己来写类似Zuul的网关，基于Servlet、Netty来做网关，实现上述所有的功能

